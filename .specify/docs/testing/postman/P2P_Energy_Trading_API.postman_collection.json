{
	"info": {
		"_postman_id": "p2p-energy-trading-api",
		"name": "P2P Energy Trading API Gateway",
		"description": "Comprehensive API testing collection for the P2P Energy Trading Platform\n\n## Overview\nThis collection tests all API endpoints of the P2P Energy Trading API Gateway including:\n- Authentication & User Management\n- Energy Meter Data\n- Trading Operations\n- Blockchain Integration\n- Analytics & Monitoring\n\n## Setup\n1. Import this collection into Postman\n2. Import the corresponding environment file\n3. Set up your environment variables\n4. Run the authentication requests first to get JWT tokens\n\n## Environment Variables Required\n- `base_url`: API Gateway base URL (e.g., http://localhost:8080)\n- `jwt_token`: JWT token for authenticated requests\n- `user_id`: Current user ID for user-specific operations\n- `test_username`: Username for test operations\n- `test_password`: Password for test operations\n\n## Test Flow\n1. Health Check\n2. User Registration\n3. User Login (gets JWT token)\n4. Profile Management\n5. Energy Meter Operations\n6. Trading Operations\n7. Blockchain Operations\n8. Analytics\n\n## Updated API Endpoints\n- All endpoints now match the actual API Gateway implementation\n- Trading endpoints: /trading/orders, /trading/market, /trading/stats\n- Meter endpoints: /meters/readings, /meters/aggregated\n- Analytics endpoints: /analytics/user, /analytics/system\n- Blockchain endpoints: /blockchain/transactions, /blockchain/programs/:name\n\nLast Updated: September 20, 2025",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Health Check",
			"item": [
				{
					"name": "API Health Check",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response has status field\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson).to.have.property('status');",
									"    pm.expect(responseJson.status).to.eql('healthy');",
									"});",
									"",
									"pm.test(\"Response time is less than 500ms\", function () {",
									"    pm.expect(pm.response.responseTime).to.be.below(500);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/health",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"health"
							]
						},
						"description": "Check API Gateway health status"
					},
					"response": []
				}
			],
			"description": "Basic health check endpoints to verify API Gateway is running"
		},
		{
			"name": "Authentication",
			"item": [
				{
					"name": "Register New User",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response has access token and user data\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson).to.have.property('access_token');",
									"    pm.expect(responseJson).to.have.property('token_type');",
									"    pm.expect(responseJson).to.have.property('expires_in');",
									"    pm.expect(responseJson).to.have.property('user');",
									"    ",
									"    // Store JWT token and user data for later use",
									"    pm.environment.set('jwt_token', responseJson.access_token);",
									"    pm.expect(responseJson.user).to.have.property('username');",
									"    pm.expect(responseJson.user).to.have.property('email');",
									"});",
									"",
									"pm.test(\"User has correct role and department\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson.user.role).to.eql('student');",
									"    pm.expect(responseJson.user.department).to.eql('Computer Engineering');",
									"});",
									"",
									"pm.test(\"Token type is Bearer\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson.token_type).to.eql('Bearer');",
									"});"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"// Generate unique test username",
									"const timestamp = Date.now();",
									"const testUsername = `testuser_${timestamp}`;",
									"const testEmail = `test_${timestamp}@engineering.edu`;",
									"",
									"pm.environment.set('test_username', testUsername);",
									"pm.environment.set('test_email', testEmail);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"username\": \"{{test_username}}\",\n    \"email\": \"{{test_email}}\",\n    \"password\": \"{{test_password}}\",\n    \"first_name\": \"Test\",\n    \"last_name\": \"User\",\n    \"role\": \"student\",\n    \"department\": \"Computer Engineering\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/register",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"register"
							]
						},
						"description": "Register a new user account"
					},
					"response": []
				},
				{
					"name": "User Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response has access token\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson).to.have.property('access_token');",
									"    pm.expect(responseJson).to.have.property('token_type');",
									"    pm.expect(responseJson).to.have.property('expires_in');",
									"    ",
									"    // Store JWT token for authenticated requests",
									"    pm.environment.set('jwt_token', responseJson.access_token);",
									"});",
									"",
									"pm.test(\"Token type is Bearer\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson.token_type).to.eql('Bearer');",
									"});",
									"",
									"pm.test(\"User data included\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson).to.have.property('user');",
									"    pm.expect(responseJson.user).to.have.property('username');",
									"    pm.expect(responseJson.user.username).to.eql(pm.environment.get('test_username'));",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"username\": \"{{test_username}}\",\n    \"password\": \"{{test_password}}\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"login"
							]
						},
						"description": "Authenticate user and get JWT token"
					},
					"response": []
				},
				{
					"name": "Get User Profile",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Profile data returned\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson).to.have.property('id');",
									"    pm.expect(responseJson).to.have.property('username');",
									"    pm.expect(responseJson).to.have.property('email');",
									"    pm.expect(responseJson).to.have.property('role');",
									"    pm.expect(responseJson).to.have.property('department');",
									"});",
									"",
									"pm.test(\"Username matches test user\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson.username).to.eql(pm.environment.get('test_username'));",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/auth/profile",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"profile"
							]
						},
						"description": "Get current user profile information"
					},
					"response": []
				},
				{
					"name": "Update Profile",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Profile updated successfully\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson).to.have.property('message');",
									"    pm.expect(responseJson.message).to.include('updated');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"first_name\": \"Updated\",\n    \"last_name\": \"User\",\n    \"email\": \"{{test_email}}\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/profile",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"profile"
							]
						},
						"description": "Update user profile information"
					},
					"response": []
				},
				{
					"name": "Change Password",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Password changed successfully\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson).to.have.property('message');",
									"    pm.expect(responseJson.message).to.include('Password changed');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"current_password\": \"{{test_password}}\",\n    \"new_password\": \"{{test_password}}_new\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/password",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"password"
							]
						},
						"description": "Change user password"
					},
					"response": []
				},
				{
					"name": "Register Faculty User",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Faculty user created successfully\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson).to.have.property('access_token');",
									"    pm.expect(responseJson.user.role).to.eql('faculty');",
									"    pm.expect(responseJson.user.department).to.eql('Electrical Engineering');",
									"});"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"// Generate unique faculty test data",
									"const timestamp = Date.now();",
									"const facultyUsername = `faculty_${timestamp}`;",
									"const facultyEmail = `faculty_${timestamp}@engineering.edu`;",
									"",
									"pm.environment.set('faculty_username', facultyUsername);",
									"pm.environment.set('faculty_email', facultyEmail);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"username\": \"{{faculty_username}}\",\n    \"email\": \"{{faculty_email}}\",\n    \"password\": \"{{test_password}}\",\n    \"first_name\": \"Professor\",\n    \"last_name\": \"Faculty\",\n    \"role\": \"faculty\",\n    \"department\": \"Electrical Engineering\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/register",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"register"
							]
						},
						"description": "Register a faculty user"
					},
					"response": []
				},
				{
					"name": "Register Admin User",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Admin user created successfully\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson).to.have.property('access_token');",
									"    pm.expect(responseJson.user.role).to.eql('admin');",
									"    pm.expect(responseJson.user.department).to.eql('Engineering Administration');",
									"});"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"// Generate unique admin test data",
									"const timestamp = Date.now();",
									"const adminUsername = `admin_${timestamp}`;",
									"const adminEmail = `admin_${timestamp}@engineering.edu`;",
									"",
									"pm.environment.set('admin_username', adminUsername);",
									"pm.environment.set('admin_email', adminEmail);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"username\": \"{{admin_username}}\",\n    \"email\": \"{{admin_email}}\",\n    \"password\": \"{{test_password}}\",\n    \"first_name\": \"Admin\",\n    \"last_name\": \"Administrator\",\n    \"role\": \"admin\",\n    \"department\": \"Engineering Administration\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/register",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"register"
							]
						},
						"description": "Register an admin user"
					},
					"response": []
				},
				{
					"name": "Register with Invalid Department (Negative Test)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {",
									"    pm.response.to.have.status(400);",
									"});",
									"",
									"pm.test(\"Error message contains department validation\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson).to.have.property('error');",
									"    pm.expect(responseJson.error.message).to.include('Invalid department');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"username\": \"invalid_dept_user\",\n    \"email\": \"invalid@engineering.edu\",\n    \"password\": \"{{test_password}}\",\n    \"first_name\": \"Invalid\",\n    \"last_name\": \"Dept\",\n    \"role\": \"student\",\n    \"department\": \"Invalid Department\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/register",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"register"
							]
						},
						"description": "Test registration with invalid department (should fail)"
					},
					"response": []
				},
				{
					"name": "Register Duplicate User (Negative Test)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {",
									"    pm.response.to.have.status(400);",
									"});",
									"",
									"pm.test(\"Error message indicates duplicate user\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson).to.have.property('error');",
									"    pm.expect(responseJson.error.message).to.include('already exists');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"username\": \"{{test_username}}\",\n    \"email\": \"duplicate@engineering.edu\",\n    \"password\": \"{{test_password}}\",\n    \"first_name\": \"Duplicate\",\n    \"last_name\": \"User\",\n    \"role\": \"student\",\n    \"department\": \"Computer Engineering\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/register",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"register"
							]
						},
						"description": "Test registration with duplicate username (should fail)"
					},
					"response": []
				},
				{
					"name": "Register with Weak Password (Negative Test)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {",
									"    pm.response.to.have.status(400);",
									"});",
									"",
									"pm.test(\"Error message indicates weak password\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson).to.have.property('error');",
									"    pm.expect(responseJson.error.message).to.include('Password');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"username\": \"weak_pass_user\",\n    \"email\": \"weakpass@engineering.edu\",\n    \"password\": \"123\",\n    \"first_name\": \"Weak\",\n    \"last_name\": \"Password\",\n    \"role\": \"student\",\n    \"department\": \"Computer Engineering\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/register",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"register"
							]
						},
						"description": "Test registration with weak password (should fail)"
					},
					"response": []
				},
				{
					"name": "Change Password",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"current_password\": \"{{test_password}}\",\n    \"new_password\": \"NewSecurePass123!\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/change-password",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"change-password"
							]
						},
						"description": "Change user password"
					},
					"response": []
				}
			],
			"description": "User authentication and profile management endpoints"
		},
		{
			"name": "Energy Meters",
			"item": [
				{
					"name": "Submit Energy Reading",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Reading submitted successfully\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson).to.have.property('reading_id');",
									"    pm.expect(responseJson).to.have.property('message');",
									"    ",
									"    // Store reading ID for later use",
									"    pm.environment.set('reading_id', responseJson.reading_id);",
									"});"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"// Generate realistic energy reading data",
									"const now = new Date();",
									"const timestamp = now.toISOString();",
									"const energy_consumed = Math.floor(Math.random() * 50) + 10; // 10-60 kWh",
									"const energy_produced = Math.floor(Math.random() * 30) + 5;  // 5-35 kWh",
									"",
									"pm.environment.set('test_timestamp', timestamp);",
									"pm.environment.set('test_energy_consumed', energy_consumed);",
									"pm.environment.set('test_energy_produced', energy_produced);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"meter_id\": \"METER_{{user_id}}_001\",\n    \"timestamp\": \"{{test_timestamp}}\",\n    \"energy_consumed\": {{test_energy_consumed}},\n    \"energy_produced\": {{test_energy_produced}},\n    \"voltage\": 230.5,\n    \"current\": 10.2,\n    \"frequency\": 50.0,\n    \"power_factor\": 0.95\n}"
						},
						"url": {
							"raw": "{{base_url}}/meters/readings",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"meters",
								"readings"
							]
						},
						"description": "Submit energy meter reading data"
					},
					"response": []
				},
				{
					"name": "Get Energy Readings",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Readings array returned\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson).to.have.property('readings');",
									"    pm.expect(responseJson.readings).to.be.an('array');",
									"});",
									"",
									"pm.test(\"Pagination info included\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson).to.have.property('pagination');",
									"    pm.expect(responseJson.pagination).to.have.property('page');",
									"    pm.expect(responseJson.pagination).to.have.property('limit');",
									"    pm.expect(responseJson.pagination).to.have.property('total');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/meters/readings?limit=10&offset=0",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"meters",
								"readings"
							],
							"query": [
								{
									"key": "limit",
									"value": "10"
								},
								{
									"key": "offset",
									"value": "0"
								}
							]
						},
						"description": "Get energy readings with pagination"
					},
					"response": []
				},
				{
					"name": "Get Specific Reading",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Reading data returned\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson).to.have.property('id');",
									"    pm.expect(responseJson).to.have.property('meter_id');",
									"    pm.expect(responseJson).to.have.property('timestamp');",
									"    pm.expect(responseJson).to.have.property('energy_consumed');",
									"    pm.expect(responseJson).to.have.property('energy_produced');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/meters/readings/{{reading_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"meters",
								"readings",
								"{{reading_id}}"
							]
						},
						"description": "Get specific energy reading by ID"
					},
					"response": []
				},
				{
					"name": "Get Aggregated Data",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Aggregated data returned\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson).to.have.property('aggregations');",
									"    pm.expect(responseJson.aggregations).to.be.an('array');",
									"});",
									"",
									"pm.test(\"Each aggregation has required fields\", function () {",
									"    const responseJson = pm.response.json();",
									"    if (responseJson.aggregations.length > 0) {",
									"        const agg = responseJson.aggregations[0];",
									"        pm.expect(agg).to.have.property('time_bucket');",
									"        pm.expect(agg).to.have.property('total_consumed');",
									"        pm.expect(agg).to.have.property('total_produced');",
									"        pm.expect(agg).to.have.property('avg_voltage');",
									"    }",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/meters/aggregated?meter_id=METER_{{user_id}}_001&start_time=2025-09-01T00:00:00Z&end_time=2025-09-30T23:59:59Z&interval=1 hour",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"meters",
								"aggregated"
							],
							"query": [
								{
									"key": "meter_id",
									"value": "METER_{{user_id}}_001"
								},
								{
									"key": "start_time",
									"value": "2025-09-01T00:00:00Z"
								},
								{
									"key": "end_time",
									"value": "2025-09-30T23:59:59Z"
								},
								{
									"key": "interval",
									"value": "1 hour"
								}
							]
						},
						"description": "Get aggregated energy data over time intervals"
					},
					"response": []
				}
			],
			"description": "Energy meter data submission and retrieval endpoints"
		},
		{
			"name": "Trading",
			"item": [
				{
					"name": "Create Buy Order",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Order created successfully\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson).to.have.property('order_id');",
									"    pm.expect(responseJson).to.have.property('status');",
									"    ",
									"    // Store order ID for later use",
									"    pm.environment.set('buy_order_id', responseJson.order_id);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"side\": \"buy\",\n    \"quantity\": 50.0,\n    \"price\": 0.15,\n    \"order_type\": \"limit\",\n    \"time_in_force\": \"GTC\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/trading/orders",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"trading",
								"orders"
							]
						},
						"description": "Create a buy order for energy"
					},
					"response": []
				},
				{
					"name": "Create Sell Order",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Order created successfully\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson).to.have.property('order_id');",
									"    pm.expect(responseJson).to.have.property('status');",
									"    ",
									"    // Store order ID for later use",
									"    pm.environment.set('sell_order_id', responseJson.order_id);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"side\": \"sell\",\n    \"quantity\": 25.0,\n    \"price\": 0.20,\n    \"order_type\": \"limit\",\n    \"time_in_force\": \"GTC\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/trading/orders",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"trading",
								"orders"
							]
						},
						"description": "Create a sell order for energy"
					},
					"response": []
				},
				{
					"name": "Get User Orders",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Orders array returned\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson).to.have.property('orders');",
									"    pm.expect(responseJson.orders).to.be.an('array');",
									"});",
									"",
									"pm.test(\"Orders contain required fields\", function () {",
									"    const responseJson = pm.response.json();",
									"    if (responseJson.orders.length > 0) {",
									"        const order = responseJson.orders[0];",
									"        pm.expect(order).to.have.property('id');",
									"        pm.expect(order).to.have.property('side');",
									"        pm.expect(order).to.have.property('quantity');",
									"        pm.expect(order).to.have.property('price');",
									"        pm.expect(order).to.have.property('status');",
									"    }",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/trading/orders?status=active&limit=10",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"trading",
								"orders"
							],
							"query": [
								{
									"key": "status",
									"value": "active"
								},
								{
									"key": "limit",
									"value": "10"
								}
							]
						},
						"description": "Get user's trading orders"
					},
					"response": []
				},
				{
					"name": "Get Market Data",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Market data returned\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson).to.have.property('market_data');",
									"    pm.expect(responseJson.market_data).to.have.property('current_price');",
									"    pm.expect(responseJson.market_data).to.have.property('volume_24h');",
									"    pm.expect(responseJson.market_data).to.have.property('price_change_24h');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/trading/market",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"trading",
								"market"
							]
						},
						"description": "Get current market data and statistics"
					},
					"response": []
				},
				{
					"name": "Get Trading Stats",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Trading stats returned\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson).to.have.property('total_orders');",
									"    pm.expect(responseJson).to.have.property('active_orders');",
									"    pm.expect(responseJson).to.have.property('filled_orders');",
									"    pm.expect(responseJson).to.have.property('cancelled_orders');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/trading/stats",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"trading",
								"stats"
							]
						},
						"description": "Get trading statistics and metrics"
					},
					"response": []
				}
			],
			"description": "Energy trading operations and market data"
		},
		{
			"name": "Blockchain",
			"item": [
				{
					"name": "Connect Wallet",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Wallet connected successfully\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson).to.have.property('message');",
									"    pm.expect(responseJson.message).to.include('Wallet connected');",
									"});"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"// Generate a test Solana wallet address",
									"const testWallet = '5eykt4UsFv8P8NJdTREpY1vzqKqZKvdpKuc147dw2N9d';",
									"pm.environment.set('test_wallet_address', testWallet);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"wallet_address\": \"{{test_wallet_address}}\",\n    \"signature\": \"test_signature_for_verification\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/user/wallet",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"user",
								"wallet"
							]
						},
						"description": "Connect Solana wallet to user account"
					},
					"response": []
				},
				{
					"name": "Get Blockchain Transactions",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Transactions array returned\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson).to.have.property('transactions');",
									"    pm.expect(responseJson.transactions).to.be.an('array');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/blockchain/transactions?limit=10",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blockchain",
								"transactions"
							],
							"query": [
								{
									"key": "limit",
									"value": "10"
								}
							]
						},
						"description": "Get blockchain transaction history"
					},
					"response": []
				},
				{
					"name": "Interact with Smart Contract",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Transaction initiated\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson).to.have.property('transaction_signature');",
									"    pm.expect(responseJson).to.have.property('status');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"program_name\": \"energy_token\",\n    \"instruction\": \"transfer_energy\",\n    \"accounts\": [\n        \"{{test_wallet_address}}\",\n        \"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdpKuc147dw2N9d\"\n    ],\n    \"data\": {\n        \"amount\": 100,\n        \"energy_type\": \"solar\"\n    }\n}"
						},
						"url": {
							"raw": "{{base_url}}/blockchain/programs/energy_token",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blockchain",
								"programs",
								"energy_token"
							]
						},
						"description": "Interact with Solana smart contracts"
					},
					"response": []
				}
			],
			"description": "Blockchain and smart contract integration"
		},
		{
			"name": "Analytics",
			"item": [
				{
					"name": "Get User Analytics",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"User analytics data returned\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson).to.have.property('energy_stats');",
									"    pm.expect(responseJson).to.have.property('trading_stats');",
									"    pm.expect(responseJson).to.have.property('meter_count');",
									"    pm.expect(responseJson.energy_stats).to.have.property('total_generated');",
									"    pm.expect(responseJson.energy_stats).to.have.property('total_consumed');",
									"    pm.expect(responseJson.energy_stats).to.have.property('net_energy');",
									"    pm.expect(responseJson.trading_stats).to.have.property('total_orders');",
									"    pm.expect(responseJson.trading_stats).to.have.property('total_volume');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/analytics/user?start_date=2025-09-01&end_date=2025-09-30&granularity=day",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"analytics",
								"user"
							],
							"query": [
								{
									"key": "start_date",
									"value": "2025-09-01"
								},
								{
									"key": "end_date",
									"value": "2025-09-30"
								},
								{
									"key": "granularity",
									"value": "day"
								}
							]
						},
						"description": "Get user-specific analytics including energy and trading stats"
					},
					"response": []
				},
				{
					"name": "Get System Analytics",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"System analytics returned\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson).to.have.property('energy_stats');",
									"    pm.expect(responseJson).to.have.property('trading_stats');",
									"    pm.expect(responseJson).to.have.property('meter_count');",
									"    pm.expect(responseJson.energy_stats).to.have.property('total_generated');",
									"    pm.expect(responseJson.energy_stats).to.have.property('total_consumed');",
									"    pm.expect(responseJson.energy_stats).to.have.property('net_energy');",
									"    pm.expect(responseJson.trading_stats).to.have.property('total_orders');",
									"    pm.expect(responseJson.trading_stats).to.have.property('total_volume');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/analytics/system?start_date=2025-09-01&end_date=2025-09-30",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"analytics",
								"system"
							],
							"query": [
								{
									"key": "start_date",
									"value": "2025-09-01"
								},
								{
									"key": "end_date",
									"value": "2025-09-30"
								}
							]
						},
						"description": "Get system-wide analytics and performance metrics"
					},
					"response": []
				}
			],
			"description": "Analytics and reporting endpoints"
		},
		{
			"name": "Negative Test Cases",
			"item": [
				{
					"name": "Unauthorized Access",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 401\", function () {",
									"    pm.response.to.have.status(401);",
									"});",
									"",
									"pm.test(\"Error message returned\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson).to.have.property('error');",
									"    pm.expect(responseJson.error).to.include('Unauthorized');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/auth/profile",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"profile"
							]
						},
						"description": "Test unauthorized access to protected endpoint"
					},
					"response": []
				},
				{
					"name": "Invalid Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 401\", function () {",
									"    pm.response.to.have.status(401);",
									"});",
									"",
									"pm.test(\"Authentication failed message\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson).to.have.property('error');",
									"    pm.expect(responseJson.error).to.include('Invalid credentials');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"username\": \"nonexistent_user\",\n    \"password\": \"wrong_password\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"login"
							]
						},
						"description": "Test login with invalid credentials"
					},
					"response": []
				},
				{
					"name": "Malformed JSON",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {",
									"    pm.response.to.have.status(400);",
									"});",
									"",
									"pm.test(\"Bad request error returned\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson).to.have.property('error');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"username\": \"test\",\n    \"password\": \"test\"\n    // Missing closing brace"
						},
						"url": {
							"raw": "{{base_url}}/auth/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"login"
							]
						},
						"description": "Test malformed JSON request"
					},
					"response": []
				}
			],
			"description": "Negative test cases to verify error handling"
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// Global pre-request script",
					"// Set default test password if not already set",
					"if (!pm.environment.get('test_password')) {",
					"    pm.environment.set('test_password', 'SecureTest123!');",
					"}",
					"",
					"// Log request for debugging",
					"console.log('Making request to:', pm.request.url.toString());"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// Global test script",
					"// Log response for debugging",
					"console.log('Response status:', pm.response.code);",
					"console.log('Response time:', pm.response.responseTime, 'ms');",
					"",
					"// Check for consistent error format",
					"if (pm.response.code >= 400) {",
					"    pm.test('Error response has proper format', function () {",
					"        const responseJson = pm.response.json();",
					"        pm.expect(responseJson).to.have.property('error');",
					"    });",
					"}"
				]
			}
		}
	],
	"variable": [
		{
			"key": "collection_version",
			"value": "1.0.0",
			"type": "string"
		}
	]
}